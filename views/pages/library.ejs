<div class="flex gap-4 mx-10 mt-5">
  <a href="/docs/add" class="btn-add">
    <i class="fa-solid fa-plus"></i> Ajouter un article
  </a>
  <a href="/users/logout" class="btn-add">
    <i class="fa-solid fa-right-from-bracket"></i> Se déconnecter
  </a>
</div>

<section class="mx-10 mt-6 rounded-md">
  <% if (docs.length > 0) { %>
  <table class="w-full text-center border-collapse">
    <thead>
      <tr>
        <th class="border">Visuel</th>
        <th class="border">Titre</th>
        <th class="border">Description</th>
        <th class="border">Format</th>
        <th class="border">Fichier</th>
        <th class="border">Catégories</th>
        <th class="border">Ajouté le</th>
        <th class="border">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% docs.forEach((item, index) => { %>
      <tr id="row-<%= index %>">
        <td class="border">
          <img
            src="<%= item.image %>"
            class="size-16 mx-auto"
            id="image-<%= index %>"
          />
        </td>
        <td class="border" id="title-<%= index %>"><%= item.title %></td>
        <td class="border" id="desc-<%= index %>"><%= item.description %></td>
        <td class="border" id="format-<%= index %>"><%= item.format %></td>
        <td class="border" id="file-<%= index %>"><%= item.file %></td>
        <td class="border" id="tags-<%= index %>"><%= item.tags %></td>
        <td class="border">
          <% const d = new Date(item.creationDate); %> <%=
          d.toLocaleDateString("fr-FR") + " - " + d.toLocaleTimeString("fr-FR",
          {hour: "2-digit", minute: "2-digit"}) %>
        </td>
        <td class="border" id="actions-<%= index %>">
          <button
            class="btn-edit"
            data-index="<%= index %>"
            data-id="<%= item._id %>"
          >
            <i class="fa-solid fa-pencil"></i>
          </button>
          <form
            method="POST"
            action="/docs/<%= item._id %>/delete"
            style="display: inline"
          >
            <button type="submit" class="btn-delete">
              <i class="fa-solid fa-trash"></i>
            </button>
          </form>
        </td>
      </tr>
      <% }) %>
    </tbody>
  </table>
  <% } else { %>
  <p class="text-2xl text-center mt-10">Aucun article dans la librairie.</p>
  <% } %>
</section>
